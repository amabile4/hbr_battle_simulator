# CLAUDE.md

このファイルは、このリポジトリでコードを扱う際にClaude Code (claude.ai/code) にガイダンスを提供します。

## プロジェクト概要

これは「ヘブンバーンズレッド」のバトルシミュレータです。プレイヤーが戦闘行動を計画・記録するためのWebベースの戦術シミュレータで、特にSP（スキルポイント）管理とパーティー編成に焦点を当てています。

## アーキテクチャ

プロジェクトはモジュラーなHTML/CSS/JavaScript構成を使用：

- **HTML**: `hbr_gui_simulator_modular.html` - メインアプリケーション
- **CSS**: `/css/`フォルダで各UIセクション別に整理
- **JavaScript**: `/js/`フォルダで責任別にモジュール分割
- **データ**: `skillDatabase.json` - キャラクターとスキルデータ

### 主要JavaScriptモジュール

- `globals.js` - グローバル変数と設定
- `data-manager.js` - データ読み込み・管理
- `party-manager.js` - パーティー編成・設定
- `display-manager.js` - UI表示・更新
- `event-handlers.js` - ユーザー操作・スキル管理
- `control-manager.js` - 戦闘制御・ターン管理
- `results-manager.js` - 結果表示・テーブル管理

## 核となる概念

### 戦闘システム
- **パーティー**: 6人編成（ポジション1-6）
- **配置**: 前衛（1-3）が行動可能、後衛（4-6）は待機
- **SP管理**: 各キャラクターのスキルポイント（0-20+）、毎ターン回復
- **ターンシステム**: 通常ターン、オーバードライブ（OD1-3）、追加ターンを含む

### 主要機能
- パーティー編成と配置入れ替え
- スキル選択とSPコスト管理  
- ターン別戦闘記録
- Google Spreadsheet互換のCSV出力

## 開発方法

クライアントサイドWebアプリケーションでビルド不要：

1. **ローカル実行**: `hbr_gui_simulator_modular.html`をブラウザで開く
2. **テスト**: ブラウザ開発者ツールでデバッグ
3. **データ編集**: `skillDatabase.json`でキャラクター・スキル変更

## ファイル構造

```
/css/              - UIセクション別スタイルシート
/js/               - 責任別JavaScriptモジュール
skillDatabase.json - キャラクター・スキルデータ
*.html             - アプリケーションエントリポイント
*.md               - ドキュメントファイル
```

## 重要な注意点

- 日本のゲームシミュレータでUIテキストは日本語
- SP回復、ターン種別、パーティー配置を含む複雑な戦闘状態を管理
- Google Spreadsheet互換の特定CSV形式でデータ出力
- モジュラー設計により保守性と機能追加が容易