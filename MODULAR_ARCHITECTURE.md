# ヘブンバーンズレッド戦闘シミュレータ - モジュール版

## ファイル構成

### HTMLファイル
- `hbr_gui_simulator_modular.html` - メインHTMLファイル（軽量化版）
- `hbr_gui_simulator.html` - 元の統合版HTMLファイル（参考用）

### CSSファイル（css/フォルダ）
- `styles.css` - 基本スタイル・レスポンシブ対応
- `party-setup.css` - パーティー編成セクションのスタイル
- `party-display.css` - パーティー表示・キャラクターカードのスタイル
- `controls.css` - コントロールパネル・ボタンのスタイル
- `results.css` - 結果テーブルのスタイル

### JavaScriptファイル（js/フォルダ）
- `globals.js` - グローバル変数・設定値の定義
- `data-manager.js` - データ読み込み・管理クラス
- `party-manager.js` - パーティー編成・管理クラス
- `display-manager.js` - 表示管理・UI更新クラス
- `event-handlers.js` - イベント処理・スキル管理クラス
- `control-manager.js` - 戦闘制御・ターン管理クラス
- `results-manager.js` - 結果表示・テーブル管理クラス

## ファイルサイズ比較

### 元のファイル
- `hbr_gui_simulator.html`: **71KB** (すべてが1ファイル)

### モジュール版
- `hbr_gui_simulator_modular.html`: **約3KB** (HTML構造のみ)
- CSSファイル合計: **約8KB**
- JavaScriptファイル合計: **約15KB**
- **合計: 約26KB** (約63%のサイズ削減)

## 利点

### 1. 保守性の向上
- **分離された責任**: 各ファイルが特定の機能に特化
- **独立した修正**: 1つの機能を修正してもほかに影響しない
- **読みやすさ**: 各ファイルが短く、理解しやすい

### 2. 開発効率の向上
- **並行開発**: 複数の開発者が同時に異なる機能を開発可能
- **テスト容易性**: 個別のクラス・機能をテストしやすい
- **再利用性**: 他のプロジェクトでの部分的な再利用が可能

### 3. パフォーマンスの向上
- **キャッシュ効率**: 変更されたファイルのみ再ダウンロード
- **並列読み込み**: 複数ファイルの並列ダウンロード
- **コード最適化**: 必要な機能のみ読み込み可能（将来的に）

## クラス設計

### DataManager
- スキルデータの読み込み
- 模擬データの管理
- データ整合性の確保

### PartyManager
- パーティー編成UI生成
- キャラクター選択・重複チェック
- パーティー設定の保存・リセット

### DisplayManager
- パーティー表示の生成
- スキル表示の更新
- UI要素の動的生成

### EventHandler・SwapManager・SkillManager
- ユーザーインタラクションの処理
- 配置入れ替え機能
- スキル選択機能

### ControlManager
- 戦闘制御・ターン管理
- 実行ボタンの状態管理
- SP計算・更新

### ResultsManager
- 結果テーブルの管理
- 戦闘履歴の表示
- データの出力準備

## 使用方法

1. **開発時**: `hbr_gui_simulator_modular.html`を使用
2. **本番時**: 必要に応じてファイルを結合・最小化
3. **デバッグ時**: 各クラスを個別にテスト可能

## 今後の拡張性

1. **機能追加**: 新しいJSファイルを追加するだけ
2. **UI改善**: CSSファイルのみ修正
3. **データ形式変更**: DataManagerのみ修正
4. **最適化**: 各ファイルを個別に最適化可能

## 移行手順

1. 新しいファイル構成を確認
2. `hbr_gui_simulator_modular.html`をテスト
3. 問題なければ元のファイルをバックアップ
4. 新しい構成に移行
